/* =================== Variables / base =================== */
:root{
  --bg:#0f1115; --bg-elev:#111827; --bg-elev-2:#0b1222;
  --border:#1f2937; --border-2:#2b3648;
  --text:#e5e7eb; --text-dim:#a0a7b3; --text-muted:#9ca3af;
  --accent:#22d3ee; --accent-2:#22c55e;
  --warn:#2d3748; --danger:#3f1f1f; --money:#a7f3d0;

  --r-sm:8px; --r-md:10px; --r-lg:12px; --r-xl:16px;
  --shadow-lg:0 10px 30px rgba(0,0,0,.35);

  --fs-1:clamp(2rem,2.2vw + 1rem,2.6rem);
  --fs-2:clamp(1.15rem,1vw + .85rem,1.35rem);
  --fs-3:1rem; --fs-sm:.9rem; --line:1.5;

  --t-fast:.15s ease; --t-base:.25s ease;

  /* offsets para que todo quepa sin scroll general */
  --vh-offset-desktop:240px;
  --vh-offset-mobile:210px;
}

:root{ --appvh: 100vh; }

*{margin:0;padding:0;box-sizing:border-box}
html,body{height:100%}
body{
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;
  background:var(--bg) url(../media/fondo.png) center/cover fixed no-repeat;
  color:var(--text); min-height:100vh; display:flex; flex-direction:column;
  line-height:var(--line); text-rendering:optimizeLegibility; -webkit-font-smoothing:antialiased;
}

/* Ancho general */
.container{width:min(1600px,96%);margin:0 auto}

img{display:block;max-width:100%}
.muted{color:var(--text-muted)}
.subtitle{font-size:var(--fs-2);font-weight:700}
.subtitle.small{font-size:1.02rem}
:focus-visible{outline:2px solid var(--accent);outline-offset:2px;border-radius:8px}
*{scrollbar-width:thin;scrollbar-color:#3b3b3b transparent}
*::-webkit-scrollbar{height:8px;width:8px}
*::-webkit-scrollbar-thumb{background:#3b3b3b;border-radius:999px}
*::-webkit-scrollbar-track{background:transparent}

/* =================== Navbar =================== */
.navbar{
  background:color-mix(in srgb,var(--bg) 85%,transparent);
  backdrop-filter:blur(10px);
  border-bottom:1px solid #3a3a3a;
  padding:1rem 0; position:sticky; top:0; z-index:1000;
}
.navbar .container{display:flex;justify-content:space-between;align-items:center;gap:1rem}
.logo img{height:58px}
.nav-links{list-style:none;display:flex;gap:1.1rem}
.nav-links a{color:var(--text);text-decoration:none;position:relative;font-weight:600;padding:4px 0}
.nav-links a:hover{color:#fff}
.nav-links a::after{
  content:'';position:absolute;left:0;bottom:-2px;height:2px;width:0;
  background:linear-gradient(90deg,var(--accent),var(--accent-2));
  transition:width var(--t-base);
}
.nav-links a:hover::after{width:100%}

/* =================== Tarjetas / layout general =================== */
main{padding:2.2rem 0;flex:1}
h1{font-size:var(--fs-1);text-align:center;color:#fff;margin-bottom:.35rem}
.intro{text-align:center;margin-bottom:.5rem;color:var(--text-dim)}

.card{
  background:color-mix(in srgb,var(--bg-elev) 85%,transparent);
  border:1px solid #3a3a3a;border-radius:var(--r-xl);
  padding:1rem;margin-top:.8rem;box-shadow:var(--shadow-lg);
}
.card.inner{margin-top:1rem}

.row{display:flex;gap:16px;flex-wrap:wrap}
.col{flex:1 1 280px;min-width:260px}
.form-row{display:flex;flex-wrap:wrap;gap:10px;align-items:center}
.header-line{display:flex;align-items:center;justify-content:space-between;gap:10px}
.money{display:inline-flex;align-items:center;gap:6px;background:var(--bg-elev-2);border:1px solid var(--border);padding:6px 10px;border-radius:var(--r-md);color:var(--money);font-weight:800}

/* =================== Modo compacto =================== */
body.compact-game main{padding:.6rem 0}
body.compact-game .intro, body.compact-game h1{display:none}
body.compact-game .game.card{padding:.7rem}
/* Usa --appvh para corregir 100vh móvil, y sólo en desktop ocultamos overflow */
body.compact-game .game-grid{
  height:calc(var(--appvh, 100vh) - var(--vh-offset-desktop));
  overflow:hidden;
}
.game-panel{margin-top:6px}

/* =================== Grilla =================== */
.game-grid{
  display:grid;
  grid-template-columns: 1fr 1fr 1.2fr; /* main | actions | events */
  gap:12px; align-items:stretch;
}
.col-main, .col-actions, .col-events{
  display:flex;flex-direction:column;min-height:0;
}

/* Eventos no estira toda la tarjeta: más compacto */
.col-events .card.inner{display:flex;flex-direction:column;min-height:0;margin-top:0}

/* ======= Responsivo ======= */
@media (max-width:1200px){
  .game-grid{grid-template-columns: 1fr 1fr}
  .col-events{grid-column: 1 / -1}
}
@media (max-width:768px){
  .logo img{height:52px}
  .game-grid{grid-template-columns: 1fr}
  /* En mobile NO forzamos altura: dejamos que el contenido fluya */
  body.compact-game .game-grid{
    height:auto;
    overflow:visible;
  }
  .subtitle{font-size:1.02rem}
}

/* =================== Select / formularios =================== */
select#pokemonSelect{
  padding:10px 12px;border-radius:10px;border:1px solid #344155;background:var(--bg-elev-2);color:var(--text);
  min-width:240px;transition:border-color var(--t-fast),box-shadow var(--t-fast)
}
select#pokemonSelect:hover{border-color:var(--accent)}
select#pokemonSelect:focus{border-color:var(--accent);box-shadow:0 0 0 4px color-mix(in srgb,var(--accent) 20%,transparent)}
#formCreacion,#formBorrar{display:flex;justify-content:space-between;align-items:center;gap:10px}
#formCreacion .form-left{display:flex;align-items:center;gap:10px;flex-wrap:wrap}
.chk{display:inline-flex;align-items:center;gap:6px;background:var(--bg-elev-2);border:1px solid var(--border);padding:6px 10px;border-radius:10px;color:var(--text-dim);}

/* =================== Botones =================== */
.btn{
  display:inline-flex;align-items:center;justify-content:center;gap:8px;
  border:1px solid var(--border);padding:9px 13px;border-radius:12px;
  cursor:pointer;background:#1f2937;color:var(--text);
  transition:transform var(--t-fast),filter var(--t-fast),border-color var(--t-fast);
  user-select:none
}
.btn:hover{filter:brightness(1.08);border-color:var(--accent)}
.btn:active{transform:translateY(1px) scale(.995)}
.btn.warn{background:var(--warn)}
.btn.danger{background:var(--danger)}
.actions{display:flex;gap:10px;flex-wrap:wrap}
.actions.wrap{flex-wrap:wrap}
.btn.evo{background:linear-gradient(90deg,#1f2937,#243044);border-color:#334155;font-weight:700}
.btn.evo[disabled]{opacity:.55;filter:grayscale(.25);cursor:not-allowed}
.qty-controls{display:inline-flex;gap:6px;align-items:center}
.qty-btn{padding:4px 8px;border-radius:10px;background:#1f2937;border:1px solid var(--border-2);cursor:pointer;transition:filter var(--t-fast),transform var(--t-fast)}
.qty-btn:hover{filter:brightness(1.1)}
.qty-btn:active{transform:translateY(1px) scale(.98)}
.btn.warn{background:#2d3748;border:1px solid #3b475c}
.btn.warn:hover{filter:brightness(1.12)}
.push-right{margin-left:auto}

/* =================== Stats / barras =================== */
.stat{margin:6px 0}
.label{color:var(--text-dim);font-size:.95rem}
.bar{height:10px;background:#1f2937;border-radius:999px;overflow:hidden;margin-top:6px;border:1px solid var(--border)}
.bar>span{display:block;height:100%;background:linear-gradient(90deg,var(--accent),var(--accent-2));width:0%;transition:width var(--t-base)}
/* Barra de evolución diferenciada */
.bar.progress{height:12px}
.bar.progress>span{background:linear-gradient(90deg,#8b5cf6,#22d3ee)}
.chips{display:flex;gap:8px;flex-wrap:wrap;margin-top:6px}
.chip{background:#1f2937;padding:6px 10px;border-radius:999px;font-size:12px;color:#cbd5e1;border:1px solid var(--border)}

/* =================== Sprite principal (debajo de stats) =================== */
.pokemon-img{width:92px;height:92px;object-fit:contain;background:var(--bg-elev-2);border:1px solid var(--border);border-radius:10px;padding:6px}
.sprite-wrap{
  display:grid;               /* centrado robusto */
  place-items:center;
  margin-top:clamp(18px, 3.5vh, 36px);
  padding-block:4px;
}
#mascotaImg{
  width:clamp(150px,18vw,220px);
  height:clamp(150px,18vw,220px);
  margin:0 auto;
}
@media (max-width:768px){
  #mascotaImg{width:170px;height:170px}
}

/* =================== Imágenes / comidas / inventario =================== */
.food-grid{display:flex;flex-wrap:wrap;gap:8px}
.food-btn{display:inline-flex;align-items:center;gap:8px;padding:8px 10px;background:#1f2937;border:1px solid var(--border-2);border-radius:10px;transition:transform var(--t-fast),filter var(--t-fast),border-color var(--t-fast)}
.food-btn:hover{filter:brightness(1.08);border-color:var(--accent)}
.food-btn:active{transform:translateY(1px) scale(.99)}
.food-btn img{width:24px;height:24px;image-rendering:crisp-edges}
.inventory-grid{display:flex;flex-wrap:wrap;gap:8px}
.inv-item{background:var(--bg-elev-2);border:1px solid var(--border);border-radius:10px;padding:6px 8px;display:flex;align-items:center;gap:8px;font-size:12px;color:#cbd5e1}
.inv-item img{width:20px;height:20px}

/* =================== Tienda =================== */
.store-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:10px;min-height:0}
.store-card{background:var(--bg-elev-2);border:1px solid var(--border);border-radius:12px;padding:10px;display:flex;flex-direction:column;gap:8px;transition:transform var(--t-fast),border-color var(--t-fast)}
.store-card:hover{transform:translateY(-1px);border-color:var(--accent)}
.price{color:var(--money);font-weight:800}
.cart-box{background:var(--bg-elev-2);border:1px solid var(--border);border-radius:12px;padding:10px;min-height:120px;overflow:auto}
.cart-item{display:flex;align-items:center;justify-content:space-between;gap:8px;padding:8px;border-bottom:1px dashed var(--border)}
.cart-item:last-child{border-bottom:none}
.cart-actions{display:flex;gap:10px;margin-top:10px}

/* ======== Pop-up de tienda ======== */
.swal2-popup .swal-store{max-height:65vh}
.swal-columns{display:grid;grid-template-columns:1.4fr 1fr;gap:12px;height:55vh}
.swal-columns .swal-col{display:flex;flex-direction:column;min-height:0}
#storeList{flex:1;min-height:0;overflow:auto}
#cart{flex:1;min-height:0;overflow:auto}
.cart-actions{position:sticky;bottom:0;background:linear-gradient(180deg, rgba(11,18,34,.92), rgba(11,18,34,1));padding-top:10px;border-top:1px solid var(--border)}
@media (max-width:720px){
  .swal-columns{grid-template-columns:1fr;height:60vh}
}

/* =================== Log de eventos =================== */
/* Desktop: sin scroll interno; Mobile: límite para no romper layout */
.log{
  font-size:14px;line-height:1.45;
  background:var(--bg-elev-2);border:1px solid var(--border);
  padding:12px;border-radius:10px;
  max-height:none;            /* desktop */
  overflow:visible;
  min-height:0;
}
@media (max-width:900px){
  .log{ max-height:36vh; overflow:auto; } /* mobile/tablet */
}

/* =================== Footer =================== */
.footer{background:var(--bg);border-top:1px solid #3a3a3a;padding:1.1rem 0;text-align:center}
.footer p{margin-bottom:.6rem;color:#a0a0a0;font-size:.9rem}
.social-links a{color:#a0a0a0;margin:0 .75rem;text-decoration:none;font-weight:600}
.social-links a:hover{color:#ffffff}
  
/* =================== SweetAlert oscuro =================== */
.swal2-container.swal2-backdrop-show,
.swal2-container.swal2-noanimation{background:rgba(0,0,0,.82)!important}
.swal2-popup{background:#0b1222!important;border:1px solid #263042!important;box-shadow:0 18px 60px rgba(0,0,0,.65)!important;border-radius:14px!important}
.swal2-title,.swal2-html-container{color:var(--text)!important}
.swal2-actions .swal2-confirm{border-radius:10px!important}
.swal2-actions .swal2-cancel{border-radius:10px!important;filter:brightness(.92)}

/* ===== Centrar y despegar el sprite del bloque de estadísticas ===== */
.col-main{ gap: 14px; } /* espacio vertical entre secciones de la columna izquierda */

.sprite-wrap{
  display: grid;
  place-items: center;                 /* centrado horizontal y vertical del img */
  margin-top: clamp(18px, 3.5vh, 36px);/* más aire respecto a las barras */
  padding-block: 4px;                  /* pequeño respiro encima/abajo */
}

#mascotaImg{
  margin: 0 auto;                      /* asegura centrado si cambia el layout */
}